<!DOCTYPE html>  
<html lang="zh">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>DATA HAMMER GROUP TALKING SYSTEM</title>  
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">  
    <link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">  
</head>  
<body class="main-bg">  
    <!-- å¼¹åŠ¨å°å›¾æ ‡ -->  
    <div class="bouncing-icon">ğŸš€</div>  
    <div class="bouncing-icon">âš¡</div>  
    <div class="bouncing-icon">ğŸŒŸ</div>  
    <div class="bouncing-icon">ğŸ’</div>  
    <div class="bouncing-icon">ğŸ”®</div>  
    <div class="bouncing-icon">ğŸ›¸</div>  
    <!-- åŠ è½½åŠ¨ç”» -->  
    <div class="loading-overlay" id="loadingOverlay">  
        <div class="loading-spinner"></div>  
    </div>  
  
    <div class="container">  
        <h1>DATA HAMMER GROUP<br>TALKING SYSTEM</h1>  
        <div class="button-container">  
            <button onclick="navigateToPage('/model_training', this)">  
                <span>ğŸ§  è®­ç»ƒæ¨¡å‹</span>  
            </button>  
            <button onclick="navigateToPage('/video_generation', this)">  
                <span>ğŸ¬ è§†é¢‘ç”Ÿæˆ</span>  
            </button>  
            <button onclick="navigateToPage('/chat_system', this)">  
                <span>ğŸ¤– äººæœºå¯¹è¯</span>  
            </button>  
        </div>  
    </div>  

    
      
    <div class="footer">  
        Â© 2025 DATA HAMMER LAB  
    </div>  
  
    <script>  
        window.addEventListener('pageshow', function(event) {
            // æ— è®ºé¡µé¢æ˜¯æ–°åŠ è½½çš„ï¼Œè¿˜æ˜¯ä»ç¼“å­˜æ¢å¤çš„ï¼Œéƒ½å¼ºåˆ¶å…³é—­åŠ è½½åŠ¨ç”»
            const loadingOverlay = document.getElementById('loadingOverlay');
            if (loadingOverlay) {
                loadingOverlay.classList.remove('active');
            }
            
            // å¦‚æœæ˜¯ä»ç¼“å­˜æ¢å¤(bfcache)ï¼Œå¯èƒ½éœ€è¦é‡ç½®æŒ‰é’®çŠ¶æ€ï¼ˆé˜²æ­¢æŒ‰é’®ä¿æŒç¼©æ”¾çŠ¶æ€ï¼‰
            if (event.persisted) {
                 const buttons = document.querySelectorAll('.button-container button');
                 buttons.forEach(btn => btn.style.transform = '');
            }
        });

        // é¡µé¢å¯¼èˆªå‡½æ•°  
        function navigateToPage(url, button) {  
            // æ˜¾ç¤ºåŠ è½½åŠ¨ç”»  
            const loadingOverlay = document.getElementById('loadingOverlay');  
            loadingOverlay.classList.add('active');  
              
            // æ·»åŠ æŒ‰é’®ç‚¹å‡»æ•ˆæœ  
            button.style.transform = 'scale(0.95)';  
              
            // åˆ›å»ºç²’å­çˆ†ç‚¸æ•ˆæœ  
            createParticleExplosion(button);  
              
            // æ¨¡æ‹ŸåŠ è½½æ—¶é—´åè·³è½¬  
            setTimeout(() => {  
                window.location.href = url;  
            }, 400);  
        }  
  
        // åˆ›å»ºç²’å­çˆ†ç‚¸æ•ˆæœ  
        function createParticleExplosion(element) {  
            const rect = element.getBoundingClientRect();  
            const particles = 15;  
              
            for (let i = 0; i < particles; i++) {  
                const particle = document.createElement('div');  
                particle.style.cssText = `  
                    position: fixed;  
                    width: 4px;  
                    height: 4px;  
                    background: #00e5ff;  
                    border-radius: 50%;  
                    pointer-events: none;  
                    z-index: 10000;  
                    left: ${rect.left + rect.width / 2}px;  
                    top: ${rect.top + rect.height / 2}px;  
                    box-shadow: 0 0 6px #00e5ff;  
                `;  
                  
                document.body.appendChild(particle);  
                  
                const angle = (Math.PI * 2 * i) / particles;  
                const velocity = 5 + Math.random() * 5;  
                const lifetime = 1000 + Math.random() * 500;  
                  
                let opacity = 1;  
                let scale = 1;  
                let x = 0;  
                let y = 0;  
                  
                const startTime = Date.now();  
                  
                function animateParticle() {  
                    const elapsed = Date.now() - startTime;  
                    const progress = elapsed / lifetime;  
                      
                    if (progress >= 1) {  
                        particle.remove();  
                        return;  
                    }  
                      
                    x += Math.cos(angle) * velocity * (1 - progress);  
                    y += Math.sin(angle) * velocity * (1 - progress);  
                    opacity = 1 - progress;  
                    scale = 1 + progress * 0.5;  
                      
                    particle.style.transform = `translate(${x}px, ${y}px) scale(${scale})`;  
                    particle.style.opacity = opacity;  
                      
                    requestAnimationFrame(animateParticle);  
                }  
                  
                requestAnimationFrame(animateParticle);  
            }  
        }  

        // æˆ³æ³¡æ³¡æ•ˆæœ  
function initBouncingIcons() {  
    const icons = document.querySelectorAll('.bouncing-icon');  
      
    icons.forEach(icon => {  
        icon.addEventListener('click', function() {  
            // ä¿å­˜åŸå§‹ä½ç½®  
            const originalTop = this.style.top;  
            const originalLeft = this.style.left;  
              
            // æ·»åŠ æˆ³ç ´åŠ¨ç”»  
            this.classList.add('popping');  
              
            // åˆ›å»ºç²’å­çˆ†ç‚¸æ•ˆæœ  
            createPopParticles(this);  
              
            // åŠ¨ç”»ç»“æŸååŸåœ°é‡æ–°å‡ºç°  
            setTimeout(() => {  
                this.classList.remove('popping');  
                this.classList.add('reappearing');  
                  
                // æ¸å˜å‡ºç°å®Œæˆåç§»é™¤ç±»  
                setTimeout(() => {  
                    this.classList.remove('reappearing');  
                }, 1000);  
            }, 500);  
        });  
    });  
}
  
// åˆ›å»ºæˆ³ç ´ç²’å­æ•ˆæœ  
function createPopParticles(element) {  
    const rect = element.getBoundingClientRect();  
    const particles = 8;  
      
    for (let i = 0; i < particles; i++) {  
        const particle = document.createElement('div');  
        particle.style.cssText = `  
            position: fixed;  
            width: 6px;  
            height: 6px;  
            background: ${getComputedStyle(element).background};  
            border-radius: 50%;  
            pointer-events: none;  
            z-index: 1000;  
            left: ${rect.left + rect.width / 2}px;  
            top: ${rect.top + rect.height / 2}px;  
            box-shadow: 0 0 10px rgba(0, 229, 255, 0.8);  
        `;  
          
        document.body.appendChild(particle);  
          
        const angle = (Math.PI * 2 * i) / particles;  
        const velocity = 8 + Math.random() * 4;  
          
        let x = 0;  
        let y = 0;  
        let opacity = 1;  
          
        const startTime = Date.now();  
          
        function animateParticle() {  
            const elapsed = Date.now() - startTime;  
            const progress = elapsed / 800;  
              
            if (progress >= 1) {  
                particle.remove();  
                return;  
            }  
              
            x += Math.cos(angle) * velocity * (1 - progress);  
            y += Math.sin(angle) * velocity * (1 - progress);  
            opacity = 1 - progress;  
              
            particle.style.transform = `translate(${x}px, ${y}px)`;  
            particle.style.opacity = opacity;  
              
            requestAnimationFrame(animateParticle);  
        }  
          
        requestAnimationFrame(animateParticle);  
    }  
}  
  
        // é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–  
        document.addEventListener('DOMContentLoaded', function() {  
            // éšè—åŠ è½½åŠ¨ç”»  
            const loadingOverlay = document.getElementById('loadingOverlay');  
            loadingOverlay.classList.remove('active');  

            initBouncingIcons();
              
            // ä¸ºæŒ‰é’®æ·»åŠ é”®ç›˜å¯¼èˆªæ”¯æŒ  
            const buttons = document.querySelectorAll('.button-container button');  
            buttons.forEach((button, index) => {  
                button.setAttribute('tabindex', '0');  
                button.addEventListener('keypress', function(e) {  
                    if (e.key === 'Enter' || e.key === ' ') {  
                        e.preventDefault();  
                        button.click();  
                    }  
                });  
            });  
              
            // æ·»åŠ é¼ æ ‡è·Ÿéšæ•ˆæœ  
            document.addEventListener('mousemove', function(e) {  
                const container = document.querySelector('.container');  
                const rect = container.getBoundingClientRect();  
                const x = e.clientX - rect.left - rect.width / 2;  
                const y = e.clientY - rect.top - rect.height / 2;  
                  
                const rotateX = (y / rect.height) * 5;  
                const rotateY = (x / rect.width) * 5;  
                  
                container.style.transform = `perspective(1000px) rotateX(${-rotateX}deg) rotateY(${rotateY}deg)`;  
            });  
  
            // é¼ æ ‡ç¦»å¼€æ—¶é‡ç½®  
            document.querySelector('.container').addEventListener('mouseleave', function() {  
                this.style.transform = 'perspective(1000px) rotateX(0deg) rotateY(0deg)';  
            });  
              
            // åˆ›å»ºèƒŒæ™¯ç²’å­æ•ˆæœ  
            createBackgroundParticles();  
        });  
  
        // åˆ›å»ºèƒŒæ™¯åŠ¨æ€ç²’å­  
        function createBackgroundParticles() {  
            const particleCount = 30;  
              
            for (let i = 0; i < particleCount; i++) {  
                const particle = document.createElement('div');  
                particle.className = 'bg-particle';  
                  
                const size = Math.random() * 3 + 1;  
                const x = Math.random() * window.innerWidth;  
                const y = Math.random() * window.innerHeight;  
                const duration = 15 + Math.random() * 20;  
                const delay = Math.random() * 5;  
                  
                particle.style.cssText = `  
                    position: fixed;  
                    width: ${size}px;  
                    height: ${size}px;  
                    background: rgba(0, 229, 255, ${Math.random() * 0.5 + 0.2});  
                    border-radius: 50%;  
                    pointer-events: none;  
                    z-index: 0;  
                    left: ${x}px;  
                    top: ${y}px;  
                    animation: floatParticle ${duration}s linear ${delay}s infinite;  
                    box-shadow: 0 0 ${size * 2}px rgba(0, 229, 255, 0.5);  
                `;  
                  
                document.body.appendChild(particle);  
            }  
              
            // æ·»åŠ ç²’å­åŠ¨ç”»æ ·å¼  
            const style = document.createElement('style');  
            style.textContent = `  
                @keyframes floatParticle {  
                    0% {  
                        transform: translateY(0) translateX(0);  
                        opacity: 0;  
                    }  
                    10% {  
                        opacity: 1;  
                    }  
                    90% {  
                        opacity: 1;  
                    }  
                    100% {  
                        transform: translateY(-100vh) translateX(${Math.random() * 200 - 100}px);  
                        opacity: 0;  
                    }  
                }  
            `;  
            document.head.appendChild(style);  
        }  
  
        // é¡µé¢å¯è§æ€§å˜åŒ–æ—¶çš„å¤„ç†ï¼ˆä¿®å¤bugçš„å…³é”®ï¼‰  
        document.addEventListener('visibilitychange', function() {  
            // ç§»é™¤äº†ä¼šå¯¼è‡´å¡ä½çš„æ ‡é¢˜ä¿®æ”¹ä»£ç   
            // åªä¿ç•™å¿…è¦çš„é¡µé¢çŠ¶æ€é‡ç½®  
            if (!document.hidden) {  
                // é¡µé¢é‡æ–°å¯è§æ—¶ï¼Œç¡®ä¿æ‰€æœ‰åŠ¨ç”»æ­£å¸¸è¿è¡Œ  
                const container = document.querySelector('.container');  
                container.style.animation = 'none';  
                setTimeout(() => {  
                    container.style.animation = '';  
                }, 10);  
            }  
        });  
    </script>  
</body>  
</html>
